---
layout: post
title: "FFMPEG源码分析：avio_open2"
date: 2016-12-07 04:21:48 -0800
comments: true
categories: FFMPEG源码分析
---

* list element with functor item
{:toc}

avio_open2 主要实现创建并初始化一个 AVIOContext，用于访问由 url 指定文件。
<!--more-->

### avio_open2 声明和定义  
```
int avio_open2(AVIOContext **s, const char *url, int flags,
               const  AVIOInterruptCB *int_cb, AVDictionary **options);
```
各个参数的含义如下：  
`AVIOContext **s`:函数调用成功后，创建并初始化该`AVIOContext`结构体。  
`const char *url`:输入输出协议的地址。  
`int flags`:打开地址的方式(只读、只写、读写)。AVIO_FLAG_READ/AVIO_FLAG_WRITE/AVIO_FLAG_READ_WRITE.  
`const AVIOInterruptCB *int_cb`: 调用函数。  
`AVDictionary **options`: 一般为NULL。  

与`avio_open2`相似的还有`avio_open`函数，`avio_open`会调用`avio_open2`,并将 int_cb 和 options 设置为 NULL。 

### avio_open2 调动关系  
`avio_open2`的调用函数关系如下：  
<img src="/images/avio_open2/avio_open2.png">

### avio_open2 源码分析   

