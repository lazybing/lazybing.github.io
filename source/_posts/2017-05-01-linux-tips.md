---
layout: post
title: "linux 使用小技巧总结"
date: 2017-05-01 19:03:52 -0700
comments: true
categories: 总结积累
---

* list element with functor item
{:toc}

Linux 使用过程中，有些特殊的小技巧能够很好地提高效率。在此记录使用过程中的惊艳的小技巧。  

<!--more-->

## 快速搜索命令

Linux 使用大部分是在命令行下进行的，某些命令是前面使用到的，此时我们不想重新完整的输入命令，而是想根据命令中的某些关键字搜索到该命令，然后直接执行。
此时第一个想到的方法可能是`history`命令，然后复制粘贴，其实还有一个更智能的命令搜索命令`Ctrl+r`。执行完`Ctrl+r`后，可直接输出要查找的命令中的某个
关键字。然后直接回车即可！非常方便，尤其是命令行比较长的时候。  

## 命令行快捷键

Linux 命令行经常遇到输入错误，需要修改的时候，此时如果命令行特别长，想要用方向键或退格键来进行修改删除，速度会特别慢，其实 Linux 命令行也有
很多快捷键可以使用。具体有如下几个：

* `Ctrl+a` 移至命令行行首
* `Ctrl+e` 移至命令行行尾
* `Ctrl+u` 从光标处删除至命令行行首
* `Ctrl+k` 从光标处删除至命令行行尾

{% img /images/linux_tips/linuxcommandshortcut.png %}

## 清理虚拟机vmdk文件大小

MacOS 虚拟机在使用过程中，占用空间越来越大，分配的40G竟然有点卡了，找了好多办法都没成功，最后还是通过`VMVare Tools`工具瘦身成功的，节省了接近 15G 的空间。方法很简单，只需要一条命令即可：  

```
sudo  /Library/Application\ Support/VMware\ Tools/vmware-tools-cli disk shrink  /
```

## 获取磁盘空间下最大的 5 个文件

```
# du -hsx * | sort -rh | head -5
```

命令和选项解释： 

* du —— 估计文件的空间使用情况
* -hsx —— 更易读的格式(-h)，汇总输出(-s)，跳过其他文件系统的文件(-x)  
* sort —— 对文本文件按行排序  
* -rh —— 将比较的结果逆序输出(-r) 
* head —— 输出文件的头几行 

## 清空终端内容快捷键

通常情况下，清空终端内容，一般会使用**clear**命令，除此命令外，还可以使用快捷键`Ctrl+l`。如果养成使用`Ctrl+l`快捷键的习惯，会节省大量时间。

## 到其他目录运行一个命令，然后自动返回当前工作目录

之前遇到需要到其他目录运行一个命令后，自动返回当前工作目录，我通常的做法是`cd`到目标目录，执行命令，`cd -`返回当前目录。除此之外，还有个更快捷的命令，就是用圆括号包含其执行的命令。如  

```
$:(cd ../../  && ls -l)
```
上面的命令效果是，1. 往前回退两个目录。2. 执行`ls -l`命令。3. 返回当前目录。

## 其他技巧

